<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaprekar's Constant</title>
</head>

<body>

    <h3>Test Kaprekar's Constant</h3>
    <p>Enter a four digit number with at least 2 different digits</p>
    <input type="text" id="input" size="15" placeholder="Enter text here">
    <br>
    <br>
    <button type="button" id="button1" class="button" onclick="getKaprekar()">Test</button>
    <br>
    <br>
    <p>Calculations</p>
    <textarea id="output" rows="20" cols="40"></textarea>
    <p id="result"></p>

    <script>
        function getKaprekar(){
            var input = document.getElementById("input");
            var output = document.getElementById("output");
            var sqr = "";
            var n = "";
            var i = "";
            var v = false

            switch(true){
                case input.value.length != 4:
                    alert("The input must be 4 digits long")
                    break;
                case input.value == 0000:
                case input.value == 1111:
                case input.value == 2222: 
                case input.value == 3333: 
                case input.value == 4444: 
                case input.value == 5555: 
                case input.value == 6666: 
                case input.value == 7777:
                case input.value == 8888: 
                case input.value == 9999: 
                    alert("There must be at least 2 different digits")
                    break;
                case isNaN(input.value):
                    alert("Please input a real number")
                    break;
                default:
                    n = input.value
                    v = true
                    output.value = "Your 4 digit number is " + n + "\n"
                    
                    break;
            }
            

            while(n != 6174 && v == true){
                a = String(n).split("")
                a.sort(function(a, b){return b-a})
                num1 = Number(a.join(""))
                console.log("Sorted input = " + num1)

                i = String(n).split("")
                i.sort(function(a, b){return b-a})
                i.reverse()
                num2 = Number(i.join(""))
                console.log("Reversed input = " + num2)

                n = num1-num2
                console.log("Output = " + n)

                output.value = output.value + num1 + " - " + num2 + " = " + n + "\n"
            }

            

        }
        
    </script>

</body>

</html>